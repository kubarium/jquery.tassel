$.fn.tassel=function(t){if(t=$.extend({},t),!t.tassel_left||!t.tassel_right)return this.trigger(new Event("tasselConfigurationError"));t.tassels=[t.tassel_left,t.tassel_right],t.tassel_middle&&t.tassels.push(t.tassel_middle);var e=this,s=function(){t.tassels.forEach(function(t,e,s){s[e]="".concat("url(",t,")")}),e.css({"background-image":t.tassels.join(","),"background-position":"top left, top right"+(3==t.tassels.length?", top center":""),"background-repeat":"no-repeat, no-repeat"+(3==t.tassels.length?", repeat-x":""),"background-clip":"padding-box, padding-box"+(3==t.tassels.length?", content-box":""),padding:"0 "+t.tassel_width+"px",height:t.tassel_height+"px",border:"0",width:2===t.tassels.length?"0":"initial"}).addClass("tasselled")};return this.each(function(){$.each(t.tassels,function(a,r){$("<img/>").load(function(e){0===a&&(t.tassel_width=e.currentTarget.width,t.tassel_height=e.currentTarget.height),a===t.tassels.length-1&&s(e)}).error(function(t){e.trigger({type:"tasselImageLoadError",tassel:0===a?"left":2===a?"middle":"right",path:t.currentTarget.src})}).attr("src",r)})})};