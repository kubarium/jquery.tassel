!function(t){jQuery.fn.tassel=function(e){"use strict";function i(){e.tassels.forEach(function(t,e,s){s[e]="".concat("url(",t,")")}),s.css({"background-image":e.tassels.join(","),"background-position":"top left, top right"+(3===e.tassels.length?", 0 0":""),"background-repeat":"no-repeat, no-repeat"+(3===e.tassels.length?", repeat-x":""),"background-clip":"padding-box, padding-box"+(3===e.tassels.length?", content-box":""),padding:"0 "+e.tasselWidth+"px",height:e.tasselHeight+"px",border:"0"}).addClass("tasselled"),parseInt(e.repetition,10)>0?s.width(e.repetition*e.repetitionWidth):-1===parseInt(e.repetition,10)&&s.width(r)}function r(){var t=s.parent().width()-2*e.tasselWidth,i=t%e.repetitionWidth;return t-i}if(e=t.extend({},e),!e.tassel_left||!e.tassel_right)return this.trigger(new Event("tasselConfigurationError"));e.tassels=[e.tassel_left,e.tassel_right],e.tassel_middle&&e.tassels.push(e.tassel_middle);var s=this;return this.each(function(){var r=0;t.each(e.tassels,function(a,n){t("<img/>").load(function(t){r++,0===a&&(e.tasselWidth=t.currentTarget.width,e.tasselHeight=t.currentTarget.height),2===a&&(e.repetitionWidth=t.currentTarget.width),r===e.tassels.length&&i(t)}).error(function(t){s.trigger({type:"tasselImageLoadError",tassel:0===a?"left":2===a?"middle":"right",path:t.currentTarget.src})}).attr("src",n)})})}}(jQuery,window,document);
