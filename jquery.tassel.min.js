!function(t,e,s,r){t.fn.tassel=function(s){"use strict";function i(){var t;s.repetition!==r&&3===s.tassels.length?t=parseInt(s.repetition,10)>=0?s.repetition*s.repetitionWidth:a():2===s.tassels.length&&(t=0),l.width(t)}function n(){s.tassels.forEach(function(t,e,s){s[e]="".concat("url(",t,")")}),l.css({"background-image":s.tassels.join(","),"background-position":"top left, top right"+(3===s.tassels.length?", 0 0":""),"background-repeat":"no-repeat, no-repeat"+(3===s.tassels.length?", repeat-x":""),"background-clip":"padding-box, padding-box"+(3===s.tassels.length?", content-box":""),padding:"0 "+s.tasselWidth+"px",height:s.tasselHeight+"px",border:"0"}).addClass("tasselled"),i(),t(e).resize(i)}function a(){var t=l.parent().width()-2*s.tasselWidth,e=t%s.repetitionWidth;return t-e}var l=this;return s=t.extend({},s),s.tassel_left&&s.tassel_right?(s.tassels=[s.tassel_left,s.tassel_right],s.tassel_middle&&s.tassels.push(s.tassel_middle),this.each(function(){var e=0;t.each(s.tassels,function(r,i){t("<img/>").load(function(t){e++,0===r&&(s.tasselWidth=t.currentTarget.width,s.tasselHeight=t.currentTarget.height),2===r&&(s.repetitionWidth=t.currentTarget.width),e===s.tassels.length&&n(t)}).error(function(t){l.trigger({type:"tasselImageLoadError",tassel:0===r?"left":2===r?"middle":"right",path:t.currentTarget.src})}).attr("src",i)})})):this.trigger(new Event("tasselConfigurationError"))}}(jQuery,window,document);
